{"ast":null,"code":"// ✅ 브라우저 새로고침할 때마다 새로운 세션 ID 생성\nlet sessionId = localStorage.getItem(\"chatSessionId\");\nif (!sessionId) {\n  sessionId = crypto.randomUUID(); // 고유 세션 ID 생성\n  localStorage.setItem(\"chatSessionId\", sessionId);\n}\nexport async function askChat(message) {\n  try {\n    const response = await fetch(\"http://localhost:5000/chat\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        query: message,\n        session_id: sessionId // ✅ 고유 세션 ID 사용\n      })\n    });\n    if (!response.ok) throw new Error(`서버 오류: ${response.status}`);\n    const data = await response.json();\n    return {\n      answer: data.response || data.reply || \"응답 없음\",\n      items: data.items || []\n    };\n  } catch (error) {\n    console.error(\"askChat 오류:\", error);\n    throw error;\n  }\n}","map":{"version":3,"names":["sessionId","localStorage","getItem","crypto","randomUUID","setItem","askChat","message","response","fetch","method","headers","body","JSON","stringify","query","session_id","ok","Error","status","data","json","answer","reply","items","error","console"],"sources":["C:/Users/du200/Documents/GitHub/frontend/my-app/src/chat.js"],"sourcesContent":["// ✅ 브라우저 새로고침할 때마다 새로운 세션 ID 생성\r\nlet sessionId = localStorage.getItem(\"chatSessionId\");\r\n\r\nif (!sessionId) {\r\n  sessionId = crypto.randomUUID(); // 고유 세션 ID 생성\r\n  localStorage.setItem(\"chatSessionId\", sessionId);\r\n}\r\n\r\nexport async function askChat(message) {\r\n  try {\r\n    const response = await fetch(\"http://localhost:5000/chat\", {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify({\r\n        query: message,\r\n        session_id: sessionId, // ✅ 고유 세션 ID 사용\r\n      }),\r\n    });\r\n\r\n    if (!response.ok) \r\n      throw new Error(`서버 오류: ${response.status}`);\r\n\r\n    const data = await response.json();\r\n    return {\r\n      answer: data.response || data.reply || \"응답 없음\",\r\n      items: data.items || [],\r\n    };\r\n  } catch (error) {\r\n    console.error(\"askChat 오류:\", error);\r\n    throw error;\r\n  }\r\n}\r\n"],"mappings":"AAAA;AACA,IAAIA,SAAS,GAAGC,YAAY,CAACC,OAAO,CAAC,eAAe,CAAC;AAErD,IAAI,CAACF,SAAS,EAAE;EACdA,SAAS,GAAGG,MAAM,CAACC,UAAU,CAAC,CAAC,CAAC,CAAC;EACjCH,YAAY,CAACI,OAAO,CAAC,eAAe,EAAEL,SAAS,CAAC;AAClD;AAEA,OAAO,eAAeM,OAAOA,CAACC,OAAO,EAAE;EACrC,IAAI;IACF,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAC,4BAA4B,EAAE;MACzDC,MAAM,EAAE,MAAM;MACdC,OAAO,EAAE;QACP,cAAc,EAAE;MAClB,CAAC;MACDC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;QACnBC,KAAK,EAAER,OAAO;QACdS,UAAU,EAAEhB,SAAS,CAAE;MACzB,CAAC;IACH,CAAC,CAAC;IAEF,IAAI,CAACQ,QAAQ,CAACS,EAAE,EACd,MAAM,IAAIC,KAAK,CAAC,UAAUV,QAAQ,CAACW,MAAM,EAAE,CAAC;IAE9C,MAAMC,IAAI,GAAG,MAAMZ,QAAQ,CAACa,IAAI,CAAC,CAAC;IAClC,OAAO;MACLC,MAAM,EAAEF,IAAI,CAACZ,QAAQ,IAAIY,IAAI,CAACG,KAAK,IAAI,OAAO;MAC9CC,KAAK,EAAEJ,IAAI,CAACI,KAAK,IAAI;IACvB,CAAC;EACH,CAAC,CAAC,OAAOC,KAAK,EAAE;IACdC,OAAO,CAACD,KAAK,CAAC,aAAa,EAAEA,KAAK,CAAC;IACnC,MAAMA,KAAK;EACb;AACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}