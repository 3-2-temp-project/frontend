{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\du200\\\\Documents\\\\GitHub\\\\frontend\\\\my-app\\\\src\\\\main.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport { useNavigate, Link } from \"react-router-dom\";\nimport \"./main.css\";\nimport { askChat } from './chat';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Main() {\n  _s();\n  const [chatOpen, setChatOpen] = useState(false);\n  const navigate = useNavigate();\n\n  // ‚úÖ ÌéòÏù¥ÏßÄ ÏÉàÎ°úÍ≥†Ïπ® Ïãú ÏÑ∏ÏÖò Ï¥àÍ∏∞Ìôî\n  useEffect(() => {\n    localStorage.removeItem(\"chatSessionId\");\n  }, []);\n\n  // Ï±óÎ¥á Î©îÏãúÏßÄ Í¥ÄÎ¶¨\n  const [messages, setMessages] = useState([{\n    id: 1,\n    text: \"ÏïàÎÖïÌïòÏÑ∏Ïöî! Í≥µÎßõÏßëÏûÖÎãàÎã§! ÏõêÌïòÏãúÎäî ÏßÄÏó≠ÏùÑ ÎßêÏîÄÌï¥Ï£ºÏÑ∏Ïöî.\",\n    sender: 'bot'\n  }]);\n  const [inputValue, setInputValue] = useState('');\n  const [isLoading, setIsLoading] = useState(false);\n\n  // === 'ÎÇ¥ ÏúÑÏπò Í∑ºÏ≤ò Ï∞æÍ∏∞' Î°úÏßÅ (Geolocation ÏöîÏ≤≠ Î∞è ÏÑúÎ≤Ñ POST) ===\n  const findNearMe = () => {\n    if (navigator.geolocation) {\n      navigator.geolocation.getCurrentPosition(async position => {\n        const lat = position.coords.latitude;\n        const lng = position.coords.longitude;\n        try {\n          // ÏÑúÎ≤ÑÎ°ú ÏúÑÏπò Ï†ÑÏÜ°\n          const response = await fetch('http://localhost:5000/location', {\n            method: 'POST',\n            headers: {\n              'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({\n              lat,\n              lng\n            })\n          });\n          if (!response.ok) throw new Error(`ÏÑúÎ≤Ñ ÏúÑÏπò Ï†ÄÏû• Ïã§Ìå®: ${response.status}`);\n          console.log(\"ÏúÑÏπò Ï†ÄÏû• ÏÑ±Í≥µ Î∞è Map ÌéòÏù¥ÏßÄÎ°ú Ïù¥Îèô\");\n          navigate(`/map?lat=${lat}&lng=${lng}`);\n        } catch (error) {\n          console.error(\"ÏúÑÏπò Ï†ïÎ≥¥ Ï†ÑÏÜ° Ïò§Î•ò:\", error);\n          alert(\"ÏÑúÎ≤Ñ ÌÜµÏã† Ïò§Î•òÍ∞Ä Î∞úÏÉùÌñàÏäµÎãàÎã§. ÏúÑÏπò Ï†ïÎ≥¥ ÏóÜÏù¥ Ïù¥ÎèôÌï©ÎãàÎã§.\");\n          navigate(`/map?lat=${lat}&lng=${lng}`);\n        }\n      }, error => {\n        console.error(\"ÏúÑÏπò Ï†ïÎ≥¥Î•º Í∞ÄÏ†∏Ïò§Îäî Îç∞ Ïã§Ìå®:\", error);\n        alert(\"ÏúÑÏπò Ï†ïÎ≥¥Î•º Í∞ÄÏ†∏Ïò¨ Ïàò ÏóÜÏäµÎãàÎã§. 'ÏúÑÏπò ÏßÄÏ†ïÌï¥ÏÑú Ï∞æÍ∏∞'Î•º Ïù¥Ïö©Ìï¥Ï£ºÏÑ∏Ïöî.\");\n      }, {\n        enableHighAccuracy: true,\n        timeout: 5000,\n        maximumAge: 0\n      });\n    } else {\n      alert(\"Ïù¥ Î∏åÎùºÏö∞Ï†ÄÎäî ÏúÑÏπò Ï†ïÎ≥¥(Geolocation)Î•º ÏßÄÏõêÌïòÏßÄ ÏïäÏäµÎãàÎã§.\");\n    }\n  };\n\n  // === 'ÏúÑÏπò ÏßÄÏ†ïÌï¥ÏÑú Ï∞æÍ∏∞' Î°úÏßÅ ===\n  const goToMap = () => {\n    navigate(\"/map\");\n  };\n\n  // Î©îÏãúÏßÄ Ï†ÑÏÜ°ÏùÑ Ï≤òÎ¶¨ÌïòÎäî Ìï®Ïàò\n  const handleSendMessage = async () => {\n    const userInput = inputValue.trim();\n    if (userInput === \"\" || isLoading) return;\n\n    // ÏÇ¨Ïö©Ïûê Î©îÏãúÏßÄ Ï∂îÍ∞Ä\n    const newUserMessage = {\n      id: Date.now(),\n      text: userInput,\n      sender: 'user'\n    };\n    setMessages(prev => [...prev, newUserMessage]);\n    setInputValue('');\n    setIsLoading(true);\n    try {\n      // FastAPI Ìò∏Ï∂ú\n      const response = await askChat(userInput);\n\n      // üß† Í∏∞Î≥∏ Î¥á ÏùëÎãµ\n      const botMessage = {\n        id: Date.now() + 1,\n        text: response.answer || \"ÏùëÎãµ ÏóÜÏùå\",\n        sender: 'bot'\n      };\n      setMessages(prev => [...prev, botMessage]);\n\n      // üó∫Ô∏è ÏßÄÎèÑ Î≥¥Í∏∞ Î≤ÑÌäº Î©îÏãúÏßÄÎäî 'items'Í∞Ä Ï°¥Ïû¨ÌïòÍ≥† Í∏∏Ïù¥Í∞Ä 1Í∞ú Ïù¥ÏÉÅÏùº ÎïåÎßå Ï∂îÍ∞Ä\n      // \"ÏßÄÎèÑ Î≥¥Í∏∞\" Î≤ÑÌäºÏùÄ Ï∂îÏ≤ú Í≤∞Í≥ºÍ∞Ä Ìè¨Ìï®Îêú ÏùëÎãµÏùº ÎïåÎßå Ï∂îÍ∞Ä\n      if (response.items && response.items.length > 0 && response.answer && response.answer.includes(\"Ï∂îÏ≤úÎìúÎ¶¥Í≤åÏöî\") // üëà Ï∂îÏ≤ú Í≤∞Í≥º Î¨∏Íµ¨ Ìè¨Ìï® ÏãúÏóêÎßå Î≤ÑÌäº Ï∂îÍ∞Ä\n      ) {\n        console.log(\"Ï∂îÏ≤ú Í≤∞Í≥ºÍ∞Ä ÏôÑÏÑ±ÎêòÏñ¥ ÏßÄÎèÑ Î≤ÑÌäºÏùÑ ÌëúÏãúÌï©ÎãàÎã§.\", response.items);\n        const mapPrompt = {\n          id: Date.now() + 2,\n          text: \"Ï∂îÏ≤úÎêú ÏãùÎãπÎì§ÏùÑ ÏßÄÎèÑÏóêÏÑú Î≥¥ÏãúÍ≤†Ïñ¥Ïöî?\",\n          sender: 'bot',\n          showMapButton: true,\n          restaurants: response.items\n        };\n        setMessages(prevMessages => [...prevMessages, mapPrompt]);\n      }\n    } catch (error) {\n      console.error(\"‚ö†Ô∏è Ï±óÎ¥á API Ïó∞Îèô Ïò§Î•ò:\", error);\n      setMessages(prev => [...prev, {\n        id: Date.now() + 1,\n        text: \"Ï£ÑÏÜ°Ìï©ÎãàÎã§. ÏÑúÎ≤Ñ ÌÜµÏã† Ï§ë Ïò§Î•òÍ∞Ä Î∞úÏÉùÌñàÏäµÎãàÎã§.\",\n        sender: 'bot'\n      }]);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"main-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"top-nav\",\n      children: [/*#__PURE__*/_jsxDEV(Link, {\n        to: \"/me\",\n        children: \"\\uB0B4 \\uC815\\uBCF4\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/login\",\n        children: \"\\uB85C\\uADF8\\uC778\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/register\",\n        children: \"\\uD68C\\uC6D0\\uAC00\\uC785\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `card ${chatOpen ? \"card-shift\" : \"\"}`,\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"badge\",\n        children: \"\\uACF5\\uBB34\\uC6D0 \\uC778\\uC99D\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"title\",\n        children: \"\\uACF5\\uBB34\\uC6D0 \\uC778\\uC99D \\uB9DB\\uC9D1 \\uD50C\\uB7AB\\uD3FC\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"description\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"highlight\",\n          children: \"\\uACF5\\uBB34\\uC6D0\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 11\n        }, this), \"\\uC774 \\uC9C1\\uC811 \\uC778\\uC99D\\uD55C \\uC9C4\\uC9DC \\uB9DB\\uC9D1\\uC744\", \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"highlight underline\",\n          children: \"\\uB0B4 \\uC704\\uCE58\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 11\n        }, this), \" \\uB610\\uB294 \\uC6D0\\uD558\\uB294 \\uC9C0\\uC5ED\\uC5D0\\uC11C \\uCC3E\\uC544\\uBCF4\\uC138\\uC694!\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"local-btn\",\n        onClick: findNearMe,\n        children: \"\\uB0B4 \\uC704\\uCE58 \\uADFC\\uCC98 \\uCC3E\\uAE30\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"choice-btn\",\n        onClick: goToMap,\n        children: \"\\uC704\\uCE58 \\uC9C0\\uC815\\uD574\\uC11C \\uCC3E\\uAE30\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 7\n    }, this), chatOpen && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"chat-box\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"chat-header\",\n        children: \"\\uACF5\\uB9DB\\uC9D1 \\uCC57\\uBD07 \\uD83C\\uDF7D\\uFE0F\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"chat-body\",\n        children: [messages.map((message, index) => {\n          const isUser = message.sender === \"user\";\n          const isLastMessage = index === messages.length - 1;\n          const showMapButton = message.showMapButton && isLastMessage; // ‚úÖ ÎßàÏßÄÎßâ Î©îÏãúÏßÄÏóêÎßå Î≤ÑÌäº ÌëúÏãú\n\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `chat-message ${isUser ? \"right\" : \"left\"}`,\n            children: [message.text, showMapButton && /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"map-btn\",\n              onClick: () => navigate(\"/map\", {\n                state: {\n                  source: \"chatbot\",\n                  restaurants: message.restaurants\n                }\n              }),\n              children: \"\\uC9C0\\uB3C4\\uC5D0\\uC11C \\uBCF4\\uAE30 \\uD83D\\uDDFA\\uFE0F\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 174,\n              columnNumber: 19\n            }, this)]\n          }, message.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 166,\n            columnNumber: 15\n          }, this);\n        }), isLoading && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"chat-message left\",\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"\\uC0DD\\uAC01 \\uC911... \\uD83E\\uDD14\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 194,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 193,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"chat-input-area\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \"\\uBA54\\uC2DC\\uC9C0\\uB97C \\uC785\\uB825\\uD558\\uC138\\uC694...\",\n          value: inputValue,\n          onChange: e => setInputValue(e.target.value),\n          onKeyPress: e => e.key === \"Enter\" && handleSendMessage(),\n          disabled: isLoading\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 201,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleSendMessage,\n          disabled: isLoading,\n          children: isLoading ? \"...\" : \"Ï†ÑÏÜ°\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 209,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => setChatOpen(!chatOpen),\n      className: \"chat-btn\",\n      children: \"\\uD83D\\uDCAC\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 217,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 128,\n    columnNumber: 5\n  }, this);\n}\n_s(Main, \"tMEkc6x5z2qqUz6PxRMMJFQ0mLc=\", false, function () {\n  return [useNavigate];\n});\n_c = Main;\nexport default Main;\nvar _c;\n$RefreshReg$(_c, \"Main\");","map":{"version":3,"names":["React","useState","useEffect","useNavigate","Link","askChat","jsxDEV","_jsxDEV","Main","_s","chatOpen","setChatOpen","navigate","localStorage","removeItem","messages","setMessages","id","text","sender","inputValue","setInputValue","isLoading","setIsLoading","findNearMe","navigator","geolocation","getCurrentPosition","position","lat","coords","latitude","lng","longitude","response","fetch","method","headers","body","JSON","stringify","ok","Error","status","console","log","error","alert","enableHighAccuracy","timeout","maximumAge","goToMap","handleSendMessage","userInput","trim","newUserMessage","Date","now","prev","botMessage","answer","items","length","includes","mapPrompt","showMapButton","restaurants","prevMessages","className","children","to","fileName","_jsxFileName","lineNumber","columnNumber","onClick","map","message","index","isUser","isLastMessage","state","source","type","placeholder","value","onChange","e","target","onKeyPress","key","disabled","_c","$RefreshReg$"],"sources":["C:/Users/du200/Documents/GitHub/frontend/my-app/src/main.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { useNavigate, Link } from \"react-router-dom\";\r\nimport \"./main.css\";\r\n\r\nimport { askChat } from './chat';\r\n\r\nfunction Main() {\r\n  const [chatOpen, setChatOpen] = useState(false);\r\n  const navigate = useNavigate();\r\n\r\n  // ‚úÖ ÌéòÏù¥ÏßÄ ÏÉàÎ°úÍ≥†Ïπ® Ïãú ÏÑ∏ÏÖò Ï¥àÍ∏∞Ìôî\r\n  useEffect(() => {\r\n    localStorage.removeItem(\"chatSessionId\");\r\n  }, []);\r\n\r\n  // Ï±óÎ¥á Î©îÏãúÏßÄ Í¥ÄÎ¶¨\r\n  const [messages, setMessages] = useState([\r\n    { id: 1, text: \"ÏïàÎÖïÌïòÏÑ∏Ïöî! Í≥µÎßõÏßëÏûÖÎãàÎã§! ÏõêÌïòÏãúÎäî ÏßÄÏó≠ÏùÑ ÎßêÏîÄÌï¥Ï£ºÏÑ∏Ïöî.\", sender: 'bot' }\r\n  ]);\r\n  const [inputValue, setInputValue] = useState('');\r\n  const [isLoading, setIsLoading] = useState(false);\r\n\r\n  // === 'ÎÇ¥ ÏúÑÏπò Í∑ºÏ≤ò Ï∞æÍ∏∞' Î°úÏßÅ (Geolocation ÏöîÏ≤≠ Î∞è ÏÑúÎ≤Ñ POST) ===\r\n  const findNearMe = () => {\r\n    if (navigator.geolocation) {\r\n      navigator.geolocation.getCurrentPosition(\r\n        async (position) => {\r\n          const lat = position.coords.latitude;\r\n          const lng = position.coords.longitude;\r\n          \r\n          try {\r\n            // ÏÑúÎ≤ÑÎ°ú ÏúÑÏπò Ï†ÑÏÜ°\r\n            const response = await fetch('http://localhost:5000/location', {\r\n              method: 'POST',\r\n              headers: { 'Content-Type': 'application/json' },\r\n              body: JSON.stringify({ lat, lng }),\r\n            });\r\n\r\n            if (!response.ok) throw new Error(`ÏÑúÎ≤Ñ ÏúÑÏπò Ï†ÄÏû• Ïã§Ìå®: ${response.status}`);\r\n\r\n\r\n            console.log(\"ÏúÑÏπò Ï†ÄÏû• ÏÑ±Í≥µ Î∞è Map ÌéòÏù¥ÏßÄÎ°ú Ïù¥Îèô\");\r\n            navigate(`/map?lat=${lat}&lng=${lng}`);\r\n\r\n          } catch (error) {\r\n            console.error(\"ÏúÑÏπò Ï†ïÎ≥¥ Ï†ÑÏÜ° Ïò§Î•ò:\", error);\r\n            alert(\"ÏÑúÎ≤Ñ ÌÜµÏã† Ïò§Î•òÍ∞Ä Î∞úÏÉùÌñàÏäµÎãàÎã§. ÏúÑÏπò Ï†ïÎ≥¥ ÏóÜÏù¥ Ïù¥ÎèôÌï©ÎãàÎã§.\");\r\n            navigate(`/map?lat=${lat}&lng=${lng}`);\r\n          }\r\n        },\r\n        (error) => {\r\n          console.error(\"ÏúÑÏπò Ï†ïÎ≥¥Î•º Í∞ÄÏ†∏Ïò§Îäî Îç∞ Ïã§Ìå®:\", error);\r\n          alert(\"ÏúÑÏπò Ï†ïÎ≥¥Î•º Í∞ÄÏ†∏Ïò¨ Ïàò ÏóÜÏäµÎãàÎã§. 'ÏúÑÏπò ÏßÄÏ†ïÌï¥ÏÑú Ï∞æÍ∏∞'Î•º Ïù¥Ïö©Ìï¥Ï£ºÏÑ∏Ïöî.\");\r\n        },\r\n        { enableHighAccuracy: true, timeout: 5000, maximumAge: 0 }\r\n      );\r\n    } else {\r\n      alert(\"Ïù¥ Î∏åÎùºÏö∞Ï†ÄÎäî ÏúÑÏπò Ï†ïÎ≥¥(Geolocation)Î•º ÏßÄÏõêÌïòÏßÄ ÏïäÏäµÎãàÎã§.\");\r\n    }\r\n  };\r\n\r\n  // === 'ÏúÑÏπò ÏßÄÏ†ïÌï¥ÏÑú Ï∞æÍ∏∞' Î°úÏßÅ ===\r\n  const goToMap = () => {\r\n    navigate(\"/map\");\r\n  };\r\n\r\n  // Î©îÏãúÏßÄ Ï†ÑÏÜ°ÏùÑ Ï≤òÎ¶¨ÌïòÎäî Ìï®Ïàò\r\n  const handleSendMessage = async () => {\r\n    const userInput = inputValue.trim();\r\n    if (userInput === \"\" || isLoading) return;\r\n\r\n    // ÏÇ¨Ïö©Ïûê Î©îÏãúÏßÄ Ï∂îÍ∞Ä\r\n    const newUserMessage = {\r\n      id: Date.now(),\r\n      text: userInput,\r\n      sender: 'user'\r\n    };\r\n    setMessages(prev => [...prev, newUserMessage]);\r\n    setInputValue('');\r\n    setIsLoading(true);\r\n\r\n    try {\r\n      // FastAPI Ìò∏Ï∂ú\r\n      const response = await askChat(userInput);\r\n\r\n      // üß† Í∏∞Î≥∏ Î¥á ÏùëÎãµ\r\n      const botMessage = {\r\n        id: Date.now() + 1,\r\n        text: response.answer || \"ÏùëÎãµ ÏóÜÏùå\",\r\n        sender: 'bot'\r\n      };\r\n      setMessages(prev => [...prev, botMessage]);\r\n\r\n      // üó∫Ô∏è ÏßÄÎèÑ Î≥¥Í∏∞ Î≤ÑÌäº Î©îÏãúÏßÄÎäî 'items'Í∞Ä Ï°¥Ïû¨ÌïòÍ≥† Í∏∏Ïù¥Í∞Ä 1Í∞ú Ïù¥ÏÉÅÏùº ÎïåÎßå Ï∂îÍ∞Ä\r\n      // \"ÏßÄÎèÑ Î≥¥Í∏∞\" Î≤ÑÌäºÏùÄ Ï∂îÏ≤ú Í≤∞Í≥ºÍ∞Ä Ìè¨Ìï®Îêú ÏùëÎãµÏùº ÎïåÎßå Ï∂îÍ∞Ä\r\n      if (\r\n        response.items &&\r\n        response.items.length > 0 &&\r\n        response.answer &&\r\n        response.answer.includes(\"Ï∂îÏ≤úÎìúÎ¶¥Í≤åÏöî\") // üëà Ï∂îÏ≤ú Í≤∞Í≥º Î¨∏Íµ¨ Ìè¨Ìï® ÏãúÏóêÎßå Î≤ÑÌäº Ï∂îÍ∞Ä\r\n      ) {\r\n        console.log(\"Ï∂îÏ≤ú Í≤∞Í≥ºÍ∞Ä ÏôÑÏÑ±ÎêòÏñ¥ ÏßÄÎèÑ Î≤ÑÌäºÏùÑ ÌëúÏãúÌï©ÎãàÎã§.\", response.items);\r\n\r\n        const mapPrompt = {\r\n          id: Date.now() + 2,\r\n          text: \"Ï∂îÏ≤úÎêú ÏãùÎãπÎì§ÏùÑ ÏßÄÎèÑÏóêÏÑú Î≥¥ÏãúÍ≤†Ïñ¥Ïöî?\",\r\n          sender: 'bot',\r\n          showMapButton: true,\r\n          restaurants: response.items\r\n        };\r\n\r\n        setMessages(prevMessages => [...prevMessages, mapPrompt]);\r\n      }\r\n\r\n\r\n    } catch (error) {\r\n      console.error(\"‚ö†Ô∏è Ï±óÎ¥á API Ïó∞Îèô Ïò§Î•ò:\", error);\r\n      setMessages(prev => [\r\n        ...prev,\r\n        { id: Date.now() + 1, text: \"Ï£ÑÏÜ°Ìï©ÎãàÎã§. ÏÑúÎ≤Ñ ÌÜµÏã† Ï§ë Ïò§Î•òÍ∞Ä Î∞úÏÉùÌñàÏäµÎãàÎã§.\", sender: 'bot' }\r\n      ]);\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"main-container\">\r\n      <div className=\"top-nav\">\r\n        <Link to=\"/me\">ÎÇ¥ Ï†ïÎ≥¥</Link>\r\n        <Link to=\"/login\">Î°úÍ∑∏Ïù∏</Link>\r\n        <Link to=\"/register\">ÌöåÏõêÍ∞ÄÏûÖ</Link>\r\n      </div>\r\n      {/* Ï§ëÏïô Ïπ¥Îìú */}\r\n      <div className={`card ${chatOpen ? \"card-shift\" : \"\"}`}>\r\n        <span className=\"badge\">Í≥µÎ¨¥Ïõê Ïù∏Ï¶ù</span>\r\n        <h1 className=\"title\">Í≥µÎ¨¥Ïõê Ïù∏Ï¶ù ÎßõÏßë ÌîåÎû´Ìèº</h1>\r\n        <p className=\"description\">\r\n          <span className=\"highlight\">Í≥µÎ¨¥Ïõê</span>Ïù¥ ÏßÅÏ†ë Ïù∏Ï¶ùÌïú ÏßÑÏßú ÎßõÏßëÏùÑ{\" \"}\r\n          <span className=\"highlight underline\">ÎÇ¥ ÏúÑÏπò</span> ÎòêÎäî ÏõêÌïòÎäî ÏßÄÏó≠ÏóêÏÑú Ï∞æÏïÑÎ≥¥ÏÑ∏Ïöî!\r\n        </p>\r\n        \r\n        {/* Î≤ÑÌäº ÏòÅÏó≠ */}\r\n      <button className=\"local-btn\" onClick={findNearMe}>\r\n        ÎÇ¥ ÏúÑÏπò Í∑ºÏ≤ò Ï∞æÍ∏∞\r\n      </button>\r\n      <button className=\"choice-btn\" onClick={goToMap}>\r\n        ÏúÑÏπò ÏßÄÏ†ïÌï¥ÏÑú Ï∞æÍ∏∞\r\n      </button>\r\n      </div>\r\n\r\n      {/* Ï±óÎ¥á Ï∞Ω */}\r\n    {chatOpen && (\r\n      <div className=\"chat-box\">\r\n        <div className=\"chat-header\">Í≥µÎßõÏßë Ï±óÎ¥á üçΩÔ∏è</div>\r\n\r\n        <div className=\"chat-body\">\r\n          {/* Î©îÏãúÏßÄ Î†åÎçîÎßÅ */}\r\n          {messages.map((message, index) => {\r\n            const isUser = message.sender === \"user\";\r\n            const isLastMessage = index === messages.length - 1;\r\n            const showMapButton =\r\n              message.showMapButton && isLastMessage; // ‚úÖ ÎßàÏßÄÎßâ Î©îÏãúÏßÄÏóêÎßå Î≤ÑÌäº ÌëúÏãú\r\n\r\n            return (\r\n              <div\r\n                key={message.id}\r\n                className={`chat-message ${isUser ? \"right\" : \"left\"}`}\r\n              >\r\n                {message.text}\r\n\r\n                {/* ‚úÖ ÏßÄÎèÑ Î≥¥Í∏∞ Î≤ÑÌäº (ÎßàÏßÄÎßâ Î©îÏãúÏßÄÏóêÏÑúÎßå Î†åÎçîÎßÅ) */}\r\n                {showMapButton && (\r\n                  <button\r\n                    className=\"map-btn\"\r\n                    onClick={() =>\r\n                      navigate(\"/map\", {\r\n                        state: {\r\n                          source: \"chatbot\",\r\n                          restaurants: message.restaurants,\r\n                        },\r\n                      })\r\n                    }\r\n                  >\r\n                    ÏßÄÎèÑÏóêÏÑú Î≥¥Í∏∞ üó∫Ô∏è\r\n                  </button>\r\n                )}\r\n              </div>\r\n            );\r\n          })}\r\n\r\n          {isLoading && (\r\n            <div className=\"chat-message left\">\r\n              <span>ÏÉùÍ∞Å Ï§ë... ü§î</span>\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        {/* ÏûÖÎ†•Ï∞Ω */}\r\n        <div className=\"chat-input-area\">\r\n          <input\r\n            type=\"text\"\r\n            placeholder=\"Î©îÏãúÏßÄÎ•º ÏûÖÎ†•ÌïòÏÑ∏Ïöî...\"\r\n            value={inputValue}\r\n            onChange={(e) => setInputValue(e.target.value)}\r\n            onKeyPress={(e) => e.key === \"Enter\" && handleSendMessage()}\r\n            disabled={isLoading}\r\n          />\r\n          <button onClick={handleSendMessage} disabled={isLoading}>\r\n            {isLoading ? \"...\" : \"Ï†ÑÏÜ°\"}\r\n          </button>\r\n        </div>\r\n      </div>\r\n    )}\r\n\r\n    {/* Ï±óÎ¥á Ïó¥Í∏∞ Î≤ÑÌäº */}\r\n    <button onClick={() => setChatOpen(!chatOpen)} className=\"chat-btn\">\r\n      üí¨\r\n    </button>\r\n  </div>\r\n  );\r\n}\r\n\r\nexport default Main;"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,SAASC,WAAW,EAAEC,IAAI,QAAQ,kBAAkB;AACpD,OAAO,YAAY;AAEnB,SAASC,OAAO,QAAQ,QAAQ;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEjC,SAASC,IAAIA,CAAA,EAAG;EAAAC,EAAA;EACd,MAAM,CAACC,QAAQ,EAAEC,WAAW,CAAC,GAAGV,QAAQ,CAAC,KAAK,CAAC;EAC/C,MAAMW,QAAQ,GAAGT,WAAW,CAAC,CAAC;;EAE9B;EACAD,SAAS,CAAC,MAAM;IACdW,YAAY,CAACC,UAAU,CAAC,eAAe,CAAC;EAC1C,CAAC,EAAE,EAAE,CAAC;;EAEN;EACA,MAAM,CAACC,QAAQ,EAAEC,WAAW,CAAC,GAAGf,QAAQ,CAAC,CACvC;IAAEgB,EAAE,EAAE,CAAC;IAAEC,IAAI,EAAE,iCAAiC;IAAEC,MAAM,EAAE;EAAM,CAAC,CAClE,CAAC;EACF,MAAM,CAACC,UAAU,EAAEC,aAAa,CAAC,GAAGpB,QAAQ,CAAC,EAAE,CAAC;EAChD,MAAM,CAACqB,SAAS,EAAEC,YAAY,CAAC,GAAGtB,QAAQ,CAAC,KAAK,CAAC;;EAEjD;EACA,MAAMuB,UAAU,GAAGA,CAAA,KAAM;IACvB,IAAIC,SAAS,CAACC,WAAW,EAAE;MACzBD,SAAS,CAACC,WAAW,CAACC,kBAAkB,CACtC,MAAOC,QAAQ,IAAK;QAClB,MAAMC,GAAG,GAAGD,QAAQ,CAACE,MAAM,CAACC,QAAQ;QACpC,MAAMC,GAAG,GAAGJ,QAAQ,CAACE,MAAM,CAACG,SAAS;QAErC,IAAI;UACF;UACA,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAC,gCAAgC,EAAE;YAC7DC,MAAM,EAAE,MAAM;YACdC,OAAO,EAAE;cAAE,cAAc,EAAE;YAAmB,CAAC;YAC/CC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;cAAEX,GAAG;cAAEG;YAAI,CAAC;UACnC,CAAC,CAAC;UAEF,IAAI,CAACE,QAAQ,CAACO,EAAE,EAAE,MAAM,IAAIC,KAAK,CAAC,gBAAgBR,QAAQ,CAACS,MAAM,EAAE,CAAC;UAGpEC,OAAO,CAACC,GAAG,CAAC,wBAAwB,CAAC;UACrCjC,QAAQ,CAAC,YAAYiB,GAAG,QAAQG,GAAG,EAAE,CAAC;QAExC,CAAC,CAAC,OAAOc,KAAK,EAAE;UACdF,OAAO,CAACE,KAAK,CAAC,cAAc,EAAEA,KAAK,CAAC;UACpCC,KAAK,CAAC,mCAAmC,CAAC;UAC1CnC,QAAQ,CAAC,YAAYiB,GAAG,QAAQG,GAAG,EAAE,CAAC;QACxC;MACF,CAAC,EACAc,KAAK,IAAK;QACTF,OAAO,CAACE,KAAK,CAAC,mBAAmB,EAAEA,KAAK,CAAC;QACzCC,KAAK,CAAC,0CAA0C,CAAC;MACnD,CAAC,EACD;QAAEC,kBAAkB,EAAE,IAAI;QAAEC,OAAO,EAAE,IAAI;QAAEC,UAAU,EAAE;MAAE,CAC3D,CAAC;IACH,CAAC,MAAM;MACLH,KAAK,CAAC,wCAAwC,CAAC;IACjD;EACF,CAAC;;EAED;EACA,MAAMI,OAAO,GAAGA,CAAA,KAAM;IACpBvC,QAAQ,CAAC,MAAM,CAAC;EAClB,CAAC;;EAED;EACA,MAAMwC,iBAAiB,GAAG,MAAAA,CAAA,KAAY;IACpC,MAAMC,SAAS,GAAGjC,UAAU,CAACkC,IAAI,CAAC,CAAC;IACnC,IAAID,SAAS,KAAK,EAAE,IAAI/B,SAAS,EAAE;;IAEnC;IACA,MAAMiC,cAAc,GAAG;MACrBtC,EAAE,EAAEuC,IAAI,CAACC,GAAG,CAAC,CAAC;MACdvC,IAAI,EAAEmC,SAAS;MACflC,MAAM,EAAE;IACV,CAAC;IACDH,WAAW,CAAC0C,IAAI,IAAI,CAAC,GAAGA,IAAI,EAAEH,cAAc,CAAC,CAAC;IAC9ClC,aAAa,CAAC,EAAE,CAAC;IACjBE,YAAY,CAAC,IAAI,CAAC;IAElB,IAAI;MACF;MACA,MAAMW,QAAQ,GAAG,MAAM7B,OAAO,CAACgD,SAAS,CAAC;;MAEzC;MACA,MAAMM,UAAU,GAAG;QACjB1C,EAAE,EAAEuC,IAAI,CAACC,GAAG,CAAC,CAAC,GAAG,CAAC;QAClBvC,IAAI,EAAEgB,QAAQ,CAAC0B,MAAM,IAAI,OAAO;QAChCzC,MAAM,EAAE;MACV,CAAC;MACDH,WAAW,CAAC0C,IAAI,IAAI,CAAC,GAAGA,IAAI,EAAEC,UAAU,CAAC,CAAC;;MAE1C;MACA;MACA,IACEzB,QAAQ,CAAC2B,KAAK,IACd3B,QAAQ,CAAC2B,KAAK,CAACC,MAAM,GAAG,CAAC,IACzB5B,QAAQ,CAAC0B,MAAM,IACf1B,QAAQ,CAAC0B,MAAM,CAACG,QAAQ,CAAC,QAAQ,CAAC,CAAC;MAAA,EACnC;QACAnB,OAAO,CAACC,GAAG,CAAC,2BAA2B,EAAEX,QAAQ,CAAC2B,KAAK,CAAC;QAExD,MAAMG,SAAS,GAAG;UAChB/C,EAAE,EAAEuC,IAAI,CAACC,GAAG,CAAC,CAAC,GAAG,CAAC;UAClBvC,IAAI,EAAE,sBAAsB;UAC5BC,MAAM,EAAE,KAAK;UACb8C,aAAa,EAAE,IAAI;UACnBC,WAAW,EAAEhC,QAAQ,CAAC2B;QACxB,CAAC;QAED7C,WAAW,CAACmD,YAAY,IAAI,CAAC,GAAGA,YAAY,EAAEH,SAAS,CAAC,CAAC;MAC3D;IAGF,CAAC,CAAC,OAAOlB,KAAK,EAAE;MACdF,OAAO,CAACE,KAAK,CAAC,kBAAkB,EAAEA,KAAK,CAAC;MACxC9B,WAAW,CAAC0C,IAAI,IAAI,CAClB,GAAGA,IAAI,EACP;QAAEzC,EAAE,EAAEuC,IAAI,CAACC,GAAG,CAAC,CAAC,GAAG,CAAC;QAAEvC,IAAI,EAAE,4BAA4B;QAAEC,MAAM,EAAE;MAAM,CAAC,CAC1E,CAAC;IACJ,CAAC,SAAS;MACRI,YAAY,CAAC,KAAK,CAAC;IACrB;EACF,CAAC;EAED,oBACEhB,OAAA;IAAK6D,SAAS,EAAC,gBAAgB;IAAAC,QAAA,gBAC7B9D,OAAA;MAAK6D,SAAS,EAAC,SAAS;MAAAC,QAAA,gBACtB9D,OAAA,CAACH,IAAI;QAACkE,EAAE,EAAC,KAAK;QAAAD,QAAA,EAAC;MAAI;QAAAE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAM,CAAC,eAC1BnE,OAAA,CAACH,IAAI;QAACkE,EAAE,EAAC,QAAQ;QAAAD,QAAA,EAAC;MAAG;QAAAE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAM,CAAC,eAC5BnE,OAAA,CAACH,IAAI;QAACkE,EAAE,EAAC,WAAW;QAAAD,QAAA,EAAC;MAAI;QAAAE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAM,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAC7B,CAAC,eAENnE,OAAA;MAAK6D,SAAS,EAAE,QAAQ1D,QAAQ,GAAG,YAAY,GAAG,EAAE,EAAG;MAAA2D,QAAA,gBACrD9D,OAAA;QAAM6D,SAAS,EAAC,OAAO;QAAAC,QAAA,EAAC;MAAM;QAAAE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAM,CAAC,eACrCnE,OAAA;QAAI6D,SAAS,EAAC,OAAO;QAAAC,QAAA,EAAC;MAAa;QAAAE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eACxCnE,OAAA;QAAG6D,SAAS,EAAC,aAAa;QAAAC,QAAA,gBACxB9D,OAAA;UAAM6D,SAAS,EAAC,WAAW;UAAAC,QAAA,EAAC;QAAG;UAAAE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM,CAAC,0EAAe,EAAC,GAAG,eACzDnE,OAAA;UAAM6D,SAAS,EAAC,qBAAqB;UAAAC,QAAA,EAAC;QAAI;UAAAE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM,CAAC,6FACnD;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAG,CAAC,eAGNnE,OAAA;QAAQ6D,SAAS,EAAC,WAAW;QAACO,OAAO,EAAEnD,UAAW;QAAA6C,QAAA,EAAC;MAEnD;QAAAE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC,eACTnE,OAAA;QAAQ6D,SAAS,EAAC,YAAY;QAACO,OAAO,EAAExB,OAAQ;QAAAkB,QAAA,EAAC;MAEjD;QAAAE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACJ,CAAC,EAGPhE,QAAQ,iBACPH,OAAA;MAAK6D,SAAS,EAAC,UAAU;MAAAC,QAAA,gBACvB9D,OAAA;QAAK6D,SAAS,EAAC,aAAa;QAAAC,QAAA,EAAC;MAAU;QAAAE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAK,CAAC,eAE7CnE,OAAA;QAAK6D,SAAS,EAAC,WAAW;QAAAC,QAAA,GAEvBtD,QAAQ,CAAC6D,GAAG,CAAC,CAACC,OAAO,EAAEC,KAAK,KAAK;UAChC,MAAMC,MAAM,GAAGF,OAAO,CAAC1D,MAAM,KAAK,MAAM;UACxC,MAAM6D,aAAa,GAAGF,KAAK,KAAK/D,QAAQ,CAAC+C,MAAM,GAAG,CAAC;UACnD,MAAMG,aAAa,GACjBY,OAAO,CAACZ,aAAa,IAAIe,aAAa,CAAC,CAAC;;UAE1C,oBACEzE,OAAA;YAEE6D,SAAS,EAAE,gBAAgBW,MAAM,GAAG,OAAO,GAAG,MAAM,EAAG;YAAAV,QAAA,GAEtDQ,OAAO,CAAC3D,IAAI,EAGZ+C,aAAa,iBACZ1D,OAAA;cACE6D,SAAS,EAAC,SAAS;cACnBO,OAAO,EAAEA,CAAA,KACP/D,QAAQ,CAAC,MAAM,EAAE;gBACfqE,KAAK,EAAE;kBACLC,MAAM,EAAE,SAAS;kBACjBhB,WAAW,EAAEW,OAAO,CAACX;gBACvB;cACF,CAAC,CACF;cAAAG,QAAA,EACF;YAED;cAAAE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CACT;UAAA,GApBIG,OAAO,CAAC5D,EAAE;YAAAsD,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAqBZ,CAAC;QAEV,CAAC,CAAC,EAEDpD,SAAS,iBACRf,OAAA;UAAK6D,SAAS,EAAC,mBAAmB;UAAAC,QAAA,eAChC9D,OAAA;YAAA8D,QAAA,EAAM;UAAU;YAAAE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACpB,CACN;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACE,CAAC,eAGNnE,OAAA;QAAK6D,SAAS,EAAC,iBAAiB;QAAAC,QAAA,gBAC9B9D,OAAA;UACE4E,IAAI,EAAC,MAAM;UACXC,WAAW,EAAC,4DAAe;UAC3BC,KAAK,EAAEjE,UAAW;UAClBkE,QAAQ,EAAGC,CAAC,IAAKlE,aAAa,CAACkE,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE;UAC/CI,UAAU,EAAGF,CAAC,IAAKA,CAAC,CAACG,GAAG,KAAK,OAAO,IAAItC,iBAAiB,CAAC,CAAE;UAC5DuC,QAAQ,EAAErE;QAAU;UAAAiD,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACrB,CAAC,eACFnE,OAAA;UAAQoE,OAAO,EAAEvB,iBAAkB;UAACuC,QAAQ,EAAErE,SAAU;UAAA+C,QAAA,EACrD/C,SAAS,GAAG,KAAK,GAAG;QAAI;UAAAiD,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACnB,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACN,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CACN,eAGDnE,OAAA;MAAQoE,OAAO,EAAEA,CAAA,KAAMhE,WAAW,CAAC,CAACD,QAAQ,CAAE;MAAC0D,SAAS,EAAC,UAAU;MAAAC,QAAA,EAAC;IAEpE;MAAAE,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAQ,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACN,CAAC;AAER;AAACjE,EAAA,CAvNQD,IAAI;EAAA,QAEML,WAAW;AAAA;AAAAyF,EAAA,GAFrBpF,IAAI;AAyNb,eAAeA,IAAI;AAAC,IAAAoF,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}