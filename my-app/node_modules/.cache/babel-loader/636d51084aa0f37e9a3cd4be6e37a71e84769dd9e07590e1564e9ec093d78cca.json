{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\du200\\\\Documents\\\\GitHub\\\\frontend\\\\my-app\\\\src\\\\main.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport { useNavigate, Link } from \"react-router-dom\";\nimport \"./main.css\";\nimport { askChat } from './chat';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst API_BASE_URL = 'http://localhost:5000';\nfunction Main() {\n  _s();\n  const [chatOpen, setChatOpen] = useState(false);\n  const navigate = useNavigate();\n  useEffect(() => {\n    localStorage.removeItem(\"chatSessionId\");\n  }, []);\n\n  //'ÏãùÎãπ Ï∞æÍ∏∞'\n  const [isSearchOpen, setIsSearchOpen] = useState(false);\n  const [addressInput, setAddressInput] = useState('');\n  const [searchError, setSearchError] = useState('');\n\n  // Ï±óÎ¥á Í¥ÄÎ†®\n  const [messages, setMessages] = useState([{\n    id: 1,\n    text: \"ÏïàÎÖïÌïòÏÑ∏Ïöî! Í≥µÎßõÏßëÏûÖÎãàÎã§! ÏõêÌïòÏãúÎäî ÏßÄÏó≠ÏùÑ ÎßêÏîÄÌï¥Ï£ºÏÑ∏Ïöî.\",\n    sender: 'bot'\n  }]);\n  const [inputValue, setInputValue] = useState('');\n  const [isLoading, setIsLoading] = useState(false);\n  const handleSendMessage = async () => {\n    const userInput = inputValue.trim();\n    if (userInput === \"\" || isLoading) return;\n\n    // ÏÇ¨Ïö©Ïûê Î©îÏãúÏßÄ Ï∂îÍ∞Ä\n    const newUserMessage = {\n      id: Date.now(),\n      text: userInput,\n      sender: 'user'\n    };\n    setMessages(prev => [...prev, newUserMessage]);\n    setInputValue('');\n    setIsLoading(true);\n    try {\n      // FastAPI Ìò∏Ï∂ú\n      const response = await askChat(userInput);\n\n      // üß† Í∏∞Î≥∏ Î¥á ÏùëÎãµ\n      const botMessage = {\n        id: Date.now() + 1,\n        text: response.answer || \"ÏùëÎãµ ÏóÜÏùå\",\n        sender: 'bot'\n      };\n      setMessages(prev => [...prev, botMessage]);\n\n      // üó∫Ô∏è ÏßÄÎèÑ Î≥¥Í∏∞ Î≤ÑÌäº Î©îÏãúÏßÄÎäî 'items'Í∞Ä Ï°¥Ïû¨ÌïòÍ≥† Í∏∏Ïù¥Í∞Ä 1Í∞ú Ïù¥ÏÉÅÏùº ÎïåÎßå Ï∂îÍ∞Ä\n      // \"ÏßÄÎèÑ Î≥¥Í∏∞\" Î≤ÑÌäºÏùÄ Ï∂îÏ≤ú Í≤∞Í≥ºÍ∞Ä Ìè¨Ìï®Îêú ÏùëÎãµÏùº ÎïåÎßå Ï∂îÍ∞Ä\n      if (response.items && response.items.length > 0 && response.answer && response.answer.includes(\"Ï∂îÏ≤úÎìúÎ¶¥Í≤åÏöî\") // üëà Ï∂îÏ≤ú Í≤∞Í≥º Î¨∏Íµ¨ Ìè¨Ìï® ÏãúÏóêÎßå Î≤ÑÌäº Ï∂îÍ∞Ä\n      ) {\n        console.log(\"Ï∂îÏ≤ú Í≤∞Í≥ºÍ∞Ä ÏôÑÏÑ±ÎêòÏñ¥ ÏßÄÎèÑ Î≤ÑÌäºÏùÑ ÌëúÏãúÌï©ÎãàÎã§.\", response.items);\n        const mapPrompt = {\n          id: Date.now() + 2,\n          text: \"Ï∂îÏ≤úÎêú ÏãùÎãπÎì§ÏùÑ ÏßÄÎèÑÏóêÏÑú Î≥¥ÏãúÍ≤†Ïñ¥Ïöî?\",\n          sender: 'bot',\n          showMapButton: true,\n          restaurants: response.items\n        };\n        setMessages(prevMessages => [...prevMessages, mapPrompt]);\n      }\n    } catch (error) {\n      console.error(\"‚ö†Ô∏è Ï±óÎ¥á API Ïó∞Îèô Ïò§Î•ò:\", error);\n      setMessages(prev => [...prev, {\n        id: Date.now() + 1,\n        text: \"Ï£ÑÏÜ°Ìï©ÎãàÎã§. ÏÑúÎ≤Ñ ÌÜµÏã† Ï§ë Ïò§Î•òÍ∞Ä Î∞úÏÉùÌñàÏäµÎãàÎã§.\",\n        sender: 'bot'\n      }]);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  //'ÌòÑÏúÑÏπò Î≤ÑÌäº Î°úÏßÅ'(findNearMe->handleFindNearMe Ìï®Ïàò ÏàòÏ†ï)\n  const handleFindNearMe = () => {\n    if (!navigator.geolocation) {\n      alert(\"Ïù¥ Î∏åÎùºÏö∞Ï†ÄÎäî ÏúÑÏπò Ï†ïÎ≥¥(Geolocation)Î•º ÏßÄÏõêÌïòÏßÄ ÏïäÏäµÎãàÎã§.\");\n      return;\n    }\n    navigator.geolocation.getCurrentPosition(async position => {\n      const lat = position.coords.latitude;\n      const lng = position.coords.longitude;\n      try {\n        // 1. ÏÑúÎ≤Ñ ÏÑ∏ÏÖòÏóê ÌòÑÏúÑÏπò Ï†ÄÏû•\n        const response = await fetch(`${API_BASE_URL}/location`, {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify({\n            lat,\n            lng\n          })\n        });\n        if (!response.ok) throw new Error('ÏÑúÎ≤Ñ ÏúÑÏπò Ï†ÄÏû• Ïã§Ìå®');\n\n        // 2. Map.jsÎ°ú Ïù¥Îèô (geolocation Î™®Îìú)\n        navigate(`/map?lat=${lat}&lng=${lng}`, {\n          state: {\n            source: 'geolocation'\n          }\n        });\n      } catch (error) {\n        console.error(\"ÏúÑÏπò Ï†ïÎ≥¥ Ï†ÑÏÜ° Ïò§Î•ò:\", error);\n        alert(\"ÏÑúÎ≤Ñ ÌÜµÏã† Ïò§Î•òÍ∞Ä Î∞úÏÉùÌñàÏäµÎãàÎã§.\");\n        navigate(`/map?lat=${lat}&lng=${lng}`, {\n          state: {\n            source: 'geolocation'\n          }\n        });\n      }\n    }, error => {\n      alert(\"ÏúÑÏπò Ï†ïÎ≥¥Î•º Í∞ÄÏ†∏Ïò¨ Ïàò ÏóÜÏäµÎãàÎã§.\");\n      navigate('/map', {\n        state: {\n          source: 'geolocation'\n        }\n      });\n    });\n  };\n\n  // 'Ï£ºÏÜå Í≤ÄÏÉâ' Î°úÏßÅ (Kakao API ÏÇ¨Ïö©)\n  const handleSearchAddress = async () => {\n    if (addressInput.trim() === '') {\n      setSearchError(\"Ï£ºÏÜåÎ•º ÏûÖÎ†•Ìï¥Ï£ºÏÑ∏Ïöî.\");\n      return;\n    }\n    setSearchError('');\n\n    //Kakao Ï£ºÏÜå Í≤ÄÏÉâ API Ìò∏Ï∂ú (Î∞òÎìúÏãú Î≥∏Ïù∏Ïùò REST API ÌÇ§ ÏÇ¨Ïö©)\n    const KAKAO_API_KEY = \"cb5e37cbdbc7daee55c8160e0c2da967\";\n    try {\n      const kakaoResponse = await fetch(`https://dapi.kakao.com/v2/local/search/address.json?query=${addressInput}`, {\n        headers: {\n          'Authorization': `KakaoAK ${KAKAO_API_KEY}`\n        }\n      });\n      if (!kakaoResponse.ok) throw new Error('Kakao API Ìò∏Ï∂ú Ïã§Ìå®');\n      const data = await kakaoResponse.json();\n      if (data.documents.length === 0) {\n        setSearchError(\"Ïú†Ìö®Ìïú Ï£ºÏÜåÎ•º Ï∞æÏùÑ Ïàò ÏóÜÏäµÎãàÎã§.\");\n        return;\n      }\n      const doc = data.documents[0];\n      const lat = doc.y; // ÏúÑÎèÑ\n      const lng = doc.x; // Í≤ΩÎèÑ\n      const province = doc.address.region_1depth_name; // Ïòà: \"Í≤ΩÍ∏∞ÎèÑ\"\n      const district = doc.address.region_2depth_name; // Ïòà: \"ÌôîÏÑ±Ïãú\"\n\n      // Ïú†Ìö®ÏÑ± Í≤ÄÏÇ¨ (map.jsÏùò PROVINCESÏôÄ ÎèôÏùºÌï¥Ïïº Ìï®)\n      const ALLOWED_PROVINCES = [\"ÏÑúÏö∏ÌäπÎ≥ÑÏãú\", \"Í≤ΩÍ∏∞ÎèÑ\"];\n      if (!ALLOWED_PROVINCES.includes(province)) {\n        setSearchError(\"ÏÑ†ÌÉùÌï† Ïàò ÏóÜÎäî ÏßÄÏó≠ÏûÖÎãàÎã§. (ÏÑúÏö∏/Í≤ΩÍ∏∞Îßå Í∞ÄÎä•)\");\n        return;\n      }\n\n      // ÏÑúÎ≤Ñ ÏÑ∏ÏÖòÏóê *Í≤ÄÏÉâÎêú* ÏúÑÏπò Ï†ÄÏû•\n      const serverResponse = await fetch(`${API_BASE_URL}/location`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          lat,\n          lng\n        })\n      });\n      if (!serverResponse.ok) throw new Error('ÏÑúÎ≤Ñ ÏúÑÏπò Ï†ÄÏû• Ïã§Ìå®');\n\n      // Map.jsÎ°ú Ïù¥Îèô (address Î™®Îìú + ÏΩ§Î≥¥Î∞ïÏä§ Ï¥àÍ∏∞Í∞í Ï†ÑÎã¨)\n      navigate('/map', {\n        state: {\n          source: 'address',\n          province: province,\n          district: district.split(' ')[0] // Ïòà: \"ÏàòÏõêÏãú Ïû•ÏïàÍµ¨\" -> \"ÏàòÏõêÏãú\"\n        }\n      });\n    } catch (error) {\n      console.error(\"Ï£ºÏÜå Í≤ÄÏÉâ Ïò§Î•ò:\", error);\n      setSearchError(error.message);\n      alert(`Ï£ºÏÜå Í≤ÄÏÉâ Ïò§Î•ò: ${error.message}\\nÍ∏∞Î≥∏ ÏßÄÎèÑÎ°ú Ïù¥ÎèôÌï©ÎãàÎã§.`);\n      navigate('/map', {\n        state: {\n          source: 'address'\n        }\n      });\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"main-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"top-nav\",\n      children: [/*#__PURE__*/_jsxDEV(Link, {\n        to: \"/me\",\n        children: \"\\uB0B4 \\uC815\\uBCF4\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/login\",\n        children: \"\\uB85C\\uADF8\\uC778\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/register\",\n        children: \"\\uD68C\\uC6D0\\uAC00\\uC785\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `card ${chatOpen ? \"card-shift\" : \"\"} ${isSearchOpen ? \"search-open\" : \"\"}`,\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"badge\",\n        children: \"\\uACF5\\uBB34\\uC6D0 \\uC778\\uC99D\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 196,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"title\",\n        children: \"\\uACF5\\uBB34\\uC6D0 \\uC778\\uC99D \\uB9DB\\uC9D1 \\uD50C\\uB7AB\\uD3FC\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 197,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"description\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"highlight\",\n          children: \"\\uACF5\\uBB34\\uC6D0\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 199,\n          columnNumber: 11\n        }, this), \"\\uC774 \\uC9C1\\uC811 \\uC778\\uC99D\\uD55C \\uC9C4\\uC9DC \\uB9DB\\uC9D1\\uC744\", \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"highlight underline\",\n          children: \"\\uB0B4 \\uC704\\uCE58\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 200,\n          columnNumber: 11\n        }, this), \" \\uB610\\uB294 \\uC6D0\\uD558\\uB294 \\uC9C0\\uC5ED\\uC5D0\\uC11C \\uCC3E\\uC544\\uBCF4\\uC138\\uC694!\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"find-restaurant-btn\",\n        onClick: () => setIsSearchOpen(!isSearchOpen),\n        children: \"\\uC2DD\\uB2F9 \\uCC3E\\uAE30 \\uD83C\\uDF7D\\uFE0F\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 203,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"search-expansion-area\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleFindNearMe,\n          className: \"expansion-btn\",\n          children: \"\\uD604\\uC704\\uCE58 \\uAE30\\uC900\\uC73C\\uB85C \\uCC3E\\uAE30\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 208,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            fontSize: '0.9rem',\n            textAlign: 'center',\n            color: '#777',\n            margin: '10px 0'\n          },\n          children: \"\\uB610\\uB294\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 212,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            width: '100%',\n            gap: '10px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            value: addressInput,\n            onChange: e => setAddressInput(e.target.value),\n            style: {\n              flex: 1,\n              padding: '8px',\n              border: '1px solid #ccc',\n              borderRadius: '8px'\n            },\n            placeholder: \"\\uC608) \\uC11C\\uC6B8\\uD2B9\\uBCC4\\uC2DC \\uAC15\\uB0A8\\uAD6C, \\uD654\\uC131\\uC2DC \\uC640\\uC6B0\\uB9AC \\uB4F1\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 217,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleSearchAddress,\n            className: \"expansion-btn-search\",\n            children: \"\\uAC80\\uC0C9\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 224,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 216,\n          columnNumber: 13\n        }, this), searchError && /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            color: 'red',\n            fontSize: '14px',\n            textAlign: 'center'\n          },\n          children: searchError\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 226,\n          columnNumber: 29\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 207,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 195,\n      columnNumber: 7\n    }, this), chatOpen && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"chat-box\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"chat-header\",\n        children: \"\\uACF5\\uB9DB\\uC9D1 \\uCC57\\uBD07 \\uD83C\\uDF7D\\uFE0F\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 233,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"chat-body\",\n        children: [messages.map((message, index) => {\n          const isUser = message.sender === \"user\";\n          const isLastMessage = index === messages.length - 1;\n          const showMapButton = message.showMapButton && isLastMessage; // ‚úÖ ÎßàÏßÄÎßâ Î©îÏãúÏßÄÏóêÎßå Î≤ÑÌäº ÌëúÏãú\n\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `chat-message ${isUser ? \"right\" : \"left\"}`,\n            children: [message.text, showMapButton && /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"map-btn\",\n              onClick: () => navigate(\"/map\", {\n                state: {\n                  source: \"chatbot\",\n                  restaurants: message.restaurants\n                }\n              }),\n              children: \"\\uC9C0\\uB3C4\\uC5D0\\uC11C \\uBCF4\\uAE30 \\uD83D\\uDDFA\\uFE0F\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 252,\n              columnNumber: 19\n            }, this)]\n          }, message.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 244,\n            columnNumber: 15\n          }, this);\n        }), isLoading && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"chat-message left\",\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"\\uC0DD\\uAC01 \\uC911... \\uD83E\\uDD14\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 272,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 271,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 235,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"chat-input-area\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \"\\uBA54\\uC2DC\\uC9C0\\uB97C \\uC785\\uB825\\uD558\\uC138\\uC694...\",\n          value: inputValue,\n          onChange: e => setInputValue(e.target.value),\n          onKeyPress: e => e.key === \"Enter\" && handleSendMessage(),\n          disabled: isLoading\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 279,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleSendMessage,\n          disabled: isLoading,\n          children: isLoading ? \"...\" : \"Ï†ÑÏÜ°\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 287,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 278,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 232,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => setChatOpen(!chatOpen),\n      className: \"chat-btn\",\n      children: \"\\uD83D\\uDCAC\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 295,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 189,\n    columnNumber: 5\n  }, this);\n}\n_s(Main, \"KROXMXZ8Fpxeclcefj3M184Me5I=\", false, function () {\n  return [useNavigate];\n});\n_c = Main;\nexport default Main;\nvar _c;\n$RefreshReg$(_c, \"Main\");","map":{"version":3,"names":["React","useState","useEffect","useNavigate","Link","askChat","jsxDEV","_jsxDEV","API_BASE_URL","Main","_s","chatOpen","setChatOpen","navigate","localStorage","removeItem","isSearchOpen","setIsSearchOpen","addressInput","setAddressInput","searchError","setSearchError","messages","setMessages","id","text","sender","inputValue","setInputValue","isLoading","setIsLoading","handleSendMessage","userInput","trim","newUserMessage","Date","now","prev","response","botMessage","answer","items","length","includes","console","log","mapPrompt","showMapButton","restaurants","prevMessages","error","handleFindNearMe","navigator","geolocation","alert","getCurrentPosition","position","lat","coords","latitude","lng","longitude","fetch","method","headers","body","JSON","stringify","ok","Error","state","source","handleSearchAddress","KAKAO_API_KEY","kakaoResponse","data","json","documents","doc","y","x","province","address","region_1depth_name","district","region_2depth_name","ALLOWED_PROVINCES","serverResponse","split","message","className","children","to","fileName","_jsxFileName","lineNumber","columnNumber","onClick","style","fontSize","textAlign","color","margin","display","width","gap","type","value","onChange","e","target","flex","padding","border","borderRadius","placeholder","map","index","isUser","isLastMessage","onKeyPress","key","disabled","_c","$RefreshReg$"],"sources":["C:/Users/du200/Documents/GitHub/frontend/my-app/src/main.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { useNavigate, Link } from \"react-router-dom\";\r\nimport \"./main.css\";\r\nimport { askChat } from './chat';\r\n\r\nconst API_BASE_URL = 'http://localhost:5000';\r\n\r\nfunction Main() {\r\n  const [chatOpen, setChatOpen] = useState(false);\r\n  const navigate = useNavigate();\r\n\r\n  useEffect(() => {\r\n    localStorage.removeItem(\"chatSessionId\");\r\n  }, []);\r\n\r\n  //'ÏãùÎãπ Ï∞æÍ∏∞'\r\n  const [isSearchOpen, setIsSearchOpen] = useState(false);\r\n  const [addressInput, setAddressInput] = useState('');\r\n  const [searchError, setSearchError] = useState('');\r\n\r\n  // Ï±óÎ¥á Í¥ÄÎ†®\r\n  const [messages, setMessages] = useState([{ id: 1, text: \"ÏïàÎÖïÌïòÏÑ∏Ïöî! Í≥µÎßõÏßëÏûÖÎãàÎã§! ÏõêÌïòÏãúÎäî ÏßÄÏó≠ÏùÑ ÎßêÏîÄÌï¥Ï£ºÏÑ∏Ïöî.\", sender: 'bot' }]);\r\n  const [inputValue, setInputValue] = useState('');\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const handleSendMessage = async () => {\r\n    const userInput = inputValue.trim();\r\n    if (userInput === \"\" || isLoading) return;\r\n\r\n    // ÏÇ¨Ïö©Ïûê Î©îÏãúÏßÄ Ï∂îÍ∞Ä\r\n    const newUserMessage = {\r\n      id: Date.now(), text: userInput, sender: 'user'};\r\n    setMessages(prev => [...prev, newUserMessage]);\r\n    setInputValue('');\r\n    setIsLoading(true);\r\n\r\n    try {\r\n      // FastAPI Ìò∏Ï∂ú\r\n      const response = await askChat(userInput);\r\n\r\n      // üß† Í∏∞Î≥∏ Î¥á ÏùëÎãµ\r\n      const botMessage = {\r\n        id: Date.now() + 1,\r\n        text: response.answer || \"ÏùëÎãµ ÏóÜÏùå\",\r\n        sender: 'bot'\r\n      };\r\n      setMessages(prev => [...prev, botMessage]);\r\n\r\n      // üó∫Ô∏è ÏßÄÎèÑ Î≥¥Í∏∞ Î≤ÑÌäº Î©îÏãúÏßÄÎäî 'items'Í∞Ä Ï°¥Ïû¨ÌïòÍ≥† Í∏∏Ïù¥Í∞Ä 1Í∞ú Ïù¥ÏÉÅÏùº ÎïåÎßå Ï∂îÍ∞Ä\r\n      // \"ÏßÄÎèÑ Î≥¥Í∏∞\" Î≤ÑÌäºÏùÄ Ï∂îÏ≤ú Í≤∞Í≥ºÍ∞Ä Ìè¨Ìï®Îêú ÏùëÎãµÏùº ÎïåÎßå Ï∂îÍ∞Ä\r\n      if (\r\n        response.items &&\r\n        response.items.length > 0 &&\r\n        response.answer &&\r\n        response.answer.includes(\"Ï∂îÏ≤úÎìúÎ¶¥Í≤åÏöî\") // üëà Ï∂îÏ≤ú Í≤∞Í≥º Î¨∏Íµ¨ Ìè¨Ìï® ÏãúÏóêÎßå Î≤ÑÌäº Ï∂îÍ∞Ä\r\n      ) {\r\n        console.log(\"Ï∂îÏ≤ú Í≤∞Í≥ºÍ∞Ä ÏôÑÏÑ±ÎêòÏñ¥ ÏßÄÎèÑ Î≤ÑÌäºÏùÑ ÌëúÏãúÌï©ÎãàÎã§.\", response.items);\r\n\r\n        const mapPrompt = {\r\n          id: Date.now() + 2,\r\n          text: \"Ï∂îÏ≤úÎêú ÏãùÎãπÎì§ÏùÑ ÏßÄÎèÑÏóêÏÑú Î≥¥ÏãúÍ≤†Ïñ¥Ïöî?\",\r\n          sender: 'bot',\r\n          showMapButton: true,\r\n          restaurants: response.items\r\n        };\r\n\r\n        setMessages(prevMessages => [...prevMessages, mapPrompt]);\r\n      }\r\n\r\n\r\n    } catch (error) {\r\n      console.error(\"‚ö†Ô∏è Ï±óÎ¥á API Ïó∞Îèô Ïò§Î•ò:\", error);\r\n      setMessages(prev => [\r\n        ...prev,\r\n        { id: Date.now() + 1, text: \"Ï£ÑÏÜ°Ìï©ÎãàÎã§. ÏÑúÎ≤Ñ ÌÜµÏã† Ï§ë Ïò§Î•òÍ∞Ä Î∞úÏÉùÌñàÏäµÎãàÎã§.\", sender: 'bot' }\r\n      ]);\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n  \r\n\r\n  //'ÌòÑÏúÑÏπò Î≤ÑÌäº Î°úÏßÅ'(findNearMe->handleFindNearMe Ìï®Ïàò ÏàòÏ†ï)\r\n  const handleFindNearMe = () => {\r\n    if (!navigator.geolocation) {\r\n        alert(\"Ïù¥ Î∏åÎùºÏö∞Ï†ÄÎäî ÏúÑÏπò Ï†ïÎ≥¥(Geolocation)Î•º ÏßÄÏõêÌïòÏßÄ ÏïäÏäµÎãàÎã§.\");\r\n        return;\r\n    }\r\n        \r\n    navigator.geolocation.getCurrentPosition(\r\n        async (position) => {\r\n            const lat = position.coords.latitude;\r\n            const lng = position.coords.longitude;\r\n                \r\n            try {\r\n                // 1. ÏÑúÎ≤Ñ ÏÑ∏ÏÖòÏóê ÌòÑÏúÑÏπò Ï†ÄÏû•\r\n                const response = await fetch(`${API_BASE_URL}/location`, {\r\n                    method: 'POST',\r\n                    headers: { 'Content-Type': 'application/json' },\r\n                    body: JSON.stringify({ lat, lng }),\r\n                });\r\n                if (!response.ok) throw new Error('ÏÑúÎ≤Ñ ÏúÑÏπò Ï†ÄÏû• Ïã§Ìå®');\r\n\r\n                // 2. Map.jsÎ°ú Ïù¥Îèô (geolocation Î™®Îìú)\r\n                navigate(`/map?lat=${lat}&lng=${lng}`, { \r\n                    state: { source: 'geolocation' } \r\n                });\r\n\r\n            } catch (error) {\r\n                console.error(\"ÏúÑÏπò Ï†ïÎ≥¥ Ï†ÑÏÜ° Ïò§Î•ò:\", error);\r\n                alert(\"ÏÑúÎ≤Ñ ÌÜµÏã† Ïò§Î•òÍ∞Ä Î∞úÏÉùÌñàÏäµÎãàÎã§.\");\r\n                navigate(`/map?lat=${lat}&lng=${lng}`, { \r\n                    state: { source: 'geolocation' } \r\n                });\r\n            }\r\n        },\r\n        (error) => {\r\n            alert(\"ÏúÑÏπò Ï†ïÎ≥¥Î•º Í∞ÄÏ†∏Ïò¨ Ïàò ÏóÜÏäµÎãàÎã§.\");\r\n            navigate('/map', { state: { source: 'geolocation' } });\r\n        }\r\n    );\r\n  };\r\n\r\n  // 'Ï£ºÏÜå Í≤ÄÏÉâ' Î°úÏßÅ (Kakao API ÏÇ¨Ïö©)\r\n  const handleSearchAddress = async () => {\r\n    if (addressInput.trim() === '') {\r\n        setSearchError(\"Ï£ºÏÜåÎ•º ÏûÖÎ†•Ìï¥Ï£ºÏÑ∏Ïöî.\");\r\n        return;\r\n    }\r\n    setSearchError('');\r\n\r\n    //Kakao Ï£ºÏÜå Í≤ÄÏÉâ API Ìò∏Ï∂ú (Î∞òÎìúÏãú Î≥∏Ïù∏Ïùò REST API ÌÇ§ ÏÇ¨Ïö©)\r\n    const KAKAO_API_KEY = \"cb5e37cbdbc7daee55c8160e0c2da967\";\r\n        \r\n    try {\r\n        const kakaoResponse = await fetch(\r\n            `https://dapi.kakao.com/v2/local/search/address.json?query=${addressInput}`,\r\n          {\r\n            headers: { 'Authorization': `KakaoAK ${KAKAO_API_KEY}` }\r\n          }\r\n        );\r\n        if (!kakaoResponse.ok) throw new Error('Kakao API Ìò∏Ï∂ú Ïã§Ìå®');\r\n            \r\n        const data = await kakaoResponse.json();\r\n        if (data.documents.length === 0) {\r\n            setSearchError(\"Ïú†Ìö®Ìïú Ï£ºÏÜåÎ•º Ï∞æÏùÑ Ïàò ÏóÜÏäµÎãàÎã§.\");\r\n            return;\r\n        }\r\n\r\n        const doc = data.documents[0];\r\n        const lat = doc.y; // ÏúÑÎèÑ\r\n        const lng = doc.x; // Í≤ΩÎèÑ\r\n        const province = doc.address.region_1depth_name; // Ïòà: \"Í≤ΩÍ∏∞ÎèÑ\"\r\n        const district = doc.address.region_2depth_name; // Ïòà: \"ÌôîÏÑ±Ïãú\"\r\n\r\n        // Ïú†Ìö®ÏÑ± Í≤ÄÏÇ¨ (map.jsÏùò PROVINCESÏôÄ ÎèôÏùºÌï¥Ïïº Ìï®)\r\n        const ALLOWED_PROVINCES = [\"ÏÑúÏö∏ÌäπÎ≥ÑÏãú\", \"Í≤ΩÍ∏∞ÎèÑ\"];\r\n        if (!ALLOWED_PROVINCES.includes(province)) {\r\n            setSearchError(\"ÏÑ†ÌÉùÌï† Ïàò ÏóÜÎäî ÏßÄÏó≠ÏûÖÎãàÎã§. (ÏÑúÏö∏/Í≤ΩÍ∏∞Îßå Í∞ÄÎä•)\");\r\n            return;\r\n        }\r\n            \r\n        // ÏÑúÎ≤Ñ ÏÑ∏ÏÖòÏóê *Í≤ÄÏÉâÎêú* ÏúÑÏπò Ï†ÄÏû•\r\n        const serverResponse = await fetch(`${API_BASE_URL}/location`, {\r\n            method: 'POST',\r\n            headers: { 'Content-Type': 'application/json' },\r\n            body: JSON.stringify({ lat, lng }),\r\n        });\r\n        if (!serverResponse.ok) throw new Error('ÏÑúÎ≤Ñ ÏúÑÏπò Ï†ÄÏû• Ïã§Ìå®');\r\n\r\n        // Map.jsÎ°ú Ïù¥Îèô (address Î™®Îìú + ÏΩ§Î≥¥Î∞ïÏä§ Ï¥àÍ∏∞Í∞í Ï†ÑÎã¨)\r\n        navigate('/map', { \r\n            state: { \r\n                source: 'address',\r\n                province: province,\r\n                district: district.split(' ')[0] // Ïòà: \"ÏàòÏõêÏãú Ïû•ÏïàÍµ¨\" -> \"ÏàòÏõêÏãú\"\r\n            } \r\n        });\r\n\r\n    } catch (error) {\r\n        console.error(\"Ï£ºÏÜå Í≤ÄÏÉâ Ïò§Î•ò:\", error);\r\n        setSearchError(error.message);\r\n        alert(`Ï£ºÏÜå Í≤ÄÏÉâ Ïò§Î•ò: ${error.message}\\nÍ∏∞Î≥∏ ÏßÄÎèÑÎ°ú Ïù¥ÎèôÌï©ÎãàÎã§.`);\r\n        navigate('/map', { state: { source: 'address' } });\r\n    }\r\n  };\r\n  \r\n\r\n  return (\r\n    <div className=\"main-container\">\r\n      <div className=\"top-nav\">\r\n        <Link to=\"/me\">ÎÇ¥ Ï†ïÎ≥¥</Link>\r\n        <Link to=\"/login\">Î°úÍ∑∏Ïù∏</Link>\r\n        <Link to=\"/register\">ÌöåÏõêÍ∞ÄÏûÖ</Link>\r\n      </div>\r\n      <div className={`card ${chatOpen ? \"card-shift\" : \"\"} ${isSearchOpen ? \"search-open\" : \"\"}`}>\r\n        <span className=\"badge\">Í≥µÎ¨¥Ïõê Ïù∏Ï¶ù</span>\r\n        <h1 className=\"title\">Í≥µÎ¨¥Ïõê Ïù∏Ï¶ù ÎßõÏßë ÌîåÎû´Ìèº</h1>\r\n        <p className=\"description\">\r\n          <span className=\"highlight\">Í≥µÎ¨¥Ïõê</span>Ïù¥ ÏßÅÏ†ë Ïù∏Ï¶ùÌïú ÏßÑÏßú ÎßõÏßëÏùÑ{\" \"}\r\n          <span className=\"highlight underline\">ÎÇ¥ ÏúÑÏπò</span> ÎòêÎäî ÏõêÌïòÎäî ÏßÄÏó≠ÏóêÏÑú Ï∞æÏïÑÎ≥¥ÏÑ∏Ïöî!\r\n        </p>\r\n        \r\n        <button className=\"find-restaurant-btn\"\r\n            onClick={() => setIsSearchOpen(!isSearchOpen)}>ÏãùÎãπ Ï∞æÍ∏∞ üçΩÔ∏è\r\n        </button>\r\n\r\n        <div className=\"search-expansion-area\">\r\n            <button onClick={handleFindNearMe} className=\"expansion-btn\">\r\n                ÌòÑÏúÑÏπò Í∏∞Ï§ÄÏúºÎ°ú Ï∞æÍ∏∞\r\n            </button>\r\n\r\n            <p style={{fontSize: '0.9rem', textAlign:'center', color: '#777', margin: '10px 0'}}>\r\n                ÎòêÎäî\r\n            </p>\r\n\r\n            <div style={{ display: 'flex', width: '100%', gap: '10px' }}>\r\n                <input \r\n                    type=\"text\"\r\n                    value={addressInput}\r\n                    onChange={(e) => setAddressInput(e.target.value)}\r\n                    style={{ flex: 1, padding: '8px', border: '1px solid #ccc', borderRadius: '8px' }}\r\n                    placeholder=\"Ïòà) ÏÑúÏö∏ÌäπÎ≥ÑÏãú Í∞ïÎÇ®Íµ¨, ÌôîÏÑ±Ïãú ÏôÄÏö∞Î¶¨ Îì±\"\r\n                />\r\n                <button onClick={handleSearchAddress} className=\"expansion-btn-search\">Í≤ÄÏÉâ</button>\r\n            </div>\r\n            {searchError && <p style={{ color: 'red', fontSize: '14px', textAlign: 'center' }}>{searchError}</p>}\r\n        </div>\r\n      </div>\r\n      \r\n      {/* Ï±óÎ¥á Ï∞Ω */}\r\n      {chatOpen && (\r\n      <div className=\"chat-box\">\r\n        <div className=\"chat-header\">Í≥µÎßõÏßë Ï±óÎ¥á üçΩÔ∏è</div>\r\n\r\n        <div className=\"chat-body\">\r\n          {/* Î©îÏãúÏßÄ Î†åÎçîÎßÅ */}\r\n          {messages.map((message, index) => {\r\n            const isUser = message.sender === \"user\";\r\n            const isLastMessage = index === messages.length - 1;\r\n            const showMapButton =\r\n              message.showMapButton && isLastMessage; // ‚úÖ ÎßàÏßÄÎßâ Î©îÏãúÏßÄÏóêÎßå Î≤ÑÌäº ÌëúÏãú\r\n\r\n            return (\r\n              <div\r\n                key={message.id}\r\n                className={`chat-message ${isUser ? \"right\" : \"left\"}`}\r\n              >\r\n                {message.text}\r\n\r\n                {/* ‚úÖ ÏßÄÎèÑ Î≥¥Í∏∞ Î≤ÑÌäº (ÎßàÏßÄÎßâ Î©îÏãúÏßÄÏóêÏÑúÎßå Î†åÎçîÎßÅ) */}\r\n                {showMapButton && (\r\n                  <button\r\n                    className=\"map-btn\"\r\n                    onClick={() =>\r\n                      navigate(\"/map\", {\r\n                        state: {\r\n                          source: \"chatbot\",\r\n                          restaurants: message.restaurants,\r\n                        },\r\n                      })\r\n                    }\r\n                  >\r\n                    ÏßÄÎèÑÏóêÏÑú Î≥¥Í∏∞ üó∫Ô∏è\r\n                  </button>\r\n                )}\r\n              </div>\r\n            );\r\n          })}\r\n\r\n          {isLoading && (\r\n            <div className=\"chat-message left\">\r\n              <span>ÏÉùÍ∞Å Ï§ë... ü§î</span>\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        {/* ÏûÖÎ†•Ï∞Ω */}\r\n        <div className=\"chat-input-area\">\r\n          <input\r\n            type=\"text\"\r\n            placeholder=\"Î©îÏãúÏßÄÎ•º ÏûÖÎ†•ÌïòÏÑ∏Ïöî...\"\r\n            value={inputValue}\r\n            onChange={(e) => setInputValue(e.target.value)}\r\n            onKeyPress={(e) => e.key === \"Enter\" && handleSendMessage()}\r\n            disabled={isLoading}\r\n          />\r\n          <button onClick={handleSendMessage} disabled={isLoading}>\r\n            {isLoading ? \"...\" : \"Ï†ÑÏÜ°\"}\r\n          </button>\r\n        </div>\r\n      </div>\r\n    )}\r\n\r\n    {/* Ï±óÎ¥á Ïó¥Í∏∞ Î≤ÑÌäº */}\r\n    <button onClick={() => setChatOpen(!chatOpen)} className=\"chat-btn\">\r\n      üí¨\r\n    </button>\r\n    \r\n  </div>\r\n  );\r\n}\r\n\r\nexport default Main;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}